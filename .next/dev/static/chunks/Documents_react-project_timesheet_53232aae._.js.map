{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/types/type.input.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Controller } from 'react-hook-form';\nimport { useEffect, useState } from 'react';\n\ntype TypeProps = {\n  control: any;\n  name: string;\n  label?: string | undefined | null;\n  value?: string | number | undefined;\n  rules?: any;\n  error?: any;\n  className?: string;\n  type?: 'text' | 'password' | 'number' | 'datetime-local' | 'textarea' | 'time';\n  disabled?: boolean;\n  onChange?: (value: any) => void;\n  onKeyDown?: (e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  required?: boolean;\n};\n\nexport const TypeInput = ({\n  control,\n  name,\n  label,\n  value = '',\n  rules = {},\n  error,\n  className = 'w-full',\n  type = 'text',\n  disabled = false,\n  onChange,\n  onKeyDown,\n  required = false,\n}: TypeProps) => {\n  const [inputValue, setInputValue] = useState<string | number | undefined>('');\n\n  useEffect(() => {\n    setInputValue(value);\n  }, [value]);\n\n  return (\n    <div className={`form-control ${className}`}>\n      <Controller\n        name={name}\n        control={control}\n        rules={rules}\n        defaultValue={inputValue}\n        render={({ field }: any) =>\n          type === 'textarea' ? (\n            <label className='floating-label'>\n              <textarea\n                {...field}\n                placeholder={label || ' '}\n                disabled={disabled}\n                className='textarea textarea-md textarea-bordered w-full'\n                onKeyDown={onKeyDown}\n                onChange={(e) => {\n                  field.onChange(e.target.value);\n                  if (onChange) onChange(e.target.value);\n                }}\n              />\n              {label && (\n                <span>\n                  {label}\n                  {required && <span className='text-error ml-1'>*</span>}\n                </span>\n              )}\n            </label>\n          ) : (\n            <label className='floating-label'>\n              <input\n                {...field}\n                type={type}\n                placeholder={label || ' '}\n                disabled={disabled}\n                className='input input-md input-bordered w-full'\n                onKeyDown={onKeyDown}\n                onChange={(e) => {\n                  field.onChange(type === 'number' ? Number(e.target.value) : e.target.value);\n                  if (onChange) onChange(e.target.value);\n                }}\n              />\n              {label && (\n                <span>\n                  {label}\n                  {required && <span className='text-error ml-1'>*</span>}\n                </span>\n              )}\n            </label>\n          )\n        }\n      />\n      {error && (\n        <label className='label'>\n          <span className='label-text-alt text-error'>{error.message}</span>\n        </label>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA,qDAAqD,GACrD;AACA;;;;;AAiBO,MAAM,YAAY,CAAC,EACxB,OAAO,EACP,IAAI,EACJ,KAAK,EACL,QAAQ,EAAE,EACV,QAAQ,CAAC,CAAC,EACV,KAAK,EACL,YAAY,QAAQ,EACpB,OAAO,MAAM,EACb,WAAW,KAAK,EAChB,QAAQ,EACR,SAAS,EACT,WAAW,KAAK,EACN;;IACV,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,uNAAQ,EAA8B;IAE1E,IAAA,wNAAS;+BAAC;YACR,cAAc;QAChB;8BAAG;QAAC;KAAM;IAEV,qBACE,2OAAC;QAAI,WAAW,CAAC,aAAa,EAAE,WAAW;;0BACzC,2OAAC,6NAAU;gBACT,MAAM;gBACN,SAAS;gBACT,OAAO;gBACP,cAAc;gBACd,QAAQ,CAAC,EAAE,KAAK,EAAO,GACrB,SAAS,2BACP,2OAAC;wBAAM,WAAU;;0CACf,2OAAC;gCACE,GAAG,KAAK;gCACT,aAAa,SAAS;gCACtB,UAAU;gCACV,WAAU;gCACV,WAAW;gCACX,UAAU,CAAC;oCACT,MAAM,QAAQ,CAAC,EAAE,MAAM,CAAC,KAAK;oCAC7B,IAAI,UAAU,SAAS,EAAE,MAAM,CAAC,KAAK;gCACvC;;;;;;4BAED,uBACC,2OAAC;;oCACE;oCACA,0BAAY,2OAAC;wCAAK,WAAU;kDAAkB;;;;;;;;;;;;;;;;;+CAKrD,2OAAC;wBAAM,WAAU;;0CACf,2OAAC;gCACE,GAAG,KAAK;gCACT,MAAM;gCACN,aAAa,SAAS;gCACtB,UAAU;gCACV,WAAU;gCACV,WAAW;gCACX,UAAU,CAAC;oCACT,MAAM,QAAQ,CAAC,SAAS,WAAW,OAAO,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK;oCAC1E,IAAI,UAAU,SAAS,EAAE,MAAM,CAAC,KAAK;gCACvC;;;;;;4BAED,uBACC,2OAAC;;oCACE;oCACA,0BAAY,2OAAC;wCAAK,WAAU;kDAAkB;;;;;;;;;;;;;;;;;;;;;;;YAO1D,uBACC,2OAAC;gBAAM,WAAU;0BACf,cAAA,2OAAC;oBAAK,WAAU;8BAA6B,MAAM,OAAO;;;;;;;;;;;;;;;;;AAKpE;GA/Ea;KAAA"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/utils/app.http.ts"],"sourcesContent":["import { Http } from \"dff-util\";\nimport AppStorage, { TENANT_ID, TOKEN } from \"./app.storage\";\n\nconst API_BASE_URL = \"https://apidev.dfftech.com/api\";\n\n// const DEFAULT_TENANT_ID = \"dff\";\n\nexport const getTenantId = (): string => {\n  const tenantId = hasTenant();\n  return typeof tenantId === \"string\" ? tenantId : \"\";\n};\n\nexport const hasTenant = (): string | boolean => {\n  const storedTenant = AppStorage.getData(TENANT_ID, true);\n  if (storedTenant) {\n    return storedTenant || false;\n  }\n  const envTenant = AppStorage.envData('TENANT_ID');\n  if (envTenant) {\n    AppStorage.setData(TENANT_ID, envTenant, true);\n    return envTenant || false;\n  }\n  return false;\n};\n\n\n(() => {\n  const envBaseUrl = AppStorage.envData('BASE_URL');\n  if (envBaseUrl) {\n    Http.API_BASE_URL = envBaseUrl;\n  } else {\n    Http.API_BASE_URL = API_BASE_URL;\n  }\n})();\n\nexport default class AppHttp {\n  static async Load(\n    id: string,\n    params: Record<string, string | number | boolean>,\n  ) {\n    const headers = {\n      ...AppHttp.Headers(),\n      [\"Content-Type\"]: \"application/json\",\n      authorization: AppStorage.getData(TOKEN, true),\n    };\n\n    return await Http.Get(`/load/${id}`, params, headers);\n  }\n\n  static Headers() {\n    return {\n      [\"Content-Type\"]: \"application/json\",\n      \"x-tenant-id\": getTenantId(),\n      // \"x-token\": process.env.TIMESHEET_API_TOKEN || \"TEST+MY_PROJECT1+MKJWQZI1\",\n      authorization: AppStorage.getData(TOKEN),\n    };\n  }\n\n  static async Get(url: string, params: Record<string, string | number | boolean>) {\n    const headers = {\n      ...AppHttp.Headers(),\n      [\"Content-Type\"]: \"application/json\",\n      authorization: AppStorage.getData(TOKEN, true),\n    };\n\n    return await Http.Get(url, params, headers);\n  }\n\n  static async Post(url: string, params: unknown) {\n    const headers = {\n      ...AppHttp.Headers(),\n      [\"Content-Type\"]: \"application/json\",\n      authorization: AppStorage.getData(TOKEN, true)\n    };\n\n    return await Http.Post(url, params, headers);\n  }\n\n  static async Put(url: string, id: string, params: unknown) {\n    const headers = { ...AppHttp.Headers() };\n\n    return await Http.Put(url + \"/\" + id, params, headers);\n  }\n\n  static async Delete(url: string, params: unknown) {\n    const headers = {\n      ...AppHttp.Headers(),\n      [\"Content-Type\"]: \"application/json\",\n      authorization: AppStorage.getData(TOKEN, true)\n    };\n\n    return await Http.Delete(url, params, headers);\n  }\n}\n\n// Astropeace MS URL's\nexport const MsUrl = {\n  menuAccess: \"/menu_access/search\",\n  // auth: \"/astropeace-auth\",\n  base: \"/timesheet-base\",\n  // horoscope: \"/astropeace-horoscope\",\n  // language: \"/astropeace-lang\",\n  // payments: \"/astropeace-payments\",\n  account: \"/timesheet-account\",\n  auth: \"/timesheet-auth\",\n  sor: \"/timesheet-sor\",\n  access: \"/timesheet-access\",\n};\n\nexport const ApiUrl = {\n  menuAccess: \"/menu_access/search\",\n  menuGroupsSearch: \"/menu_groups/search\",\n  menuGroupsCreate: \"/menu_groups/create\",\n  menuLinksSearch: \"/menu_links/search\",\n  menuLinksCreate: \"/menu_links/create\",\n  menuRolesSearch: \"/menu_roles/search\",\n  menuRolesCreate: \"/menu_roles/create\",\n  menuAccessBulkCreate: \"/menu_access/bulk-create\"\n  // astrologicalTimings: \"/astrological-timings\",\n  // horoscope: \"/horoscope\",\n  // profileSearch: \"/profile/search\",\n  // profileEntity: \"/profile/entity\",\n  // horoscopeSearch: \"/horoscope/search\",\n  // zodiacSignSearch: \"/zodiac-sign/search\",\n  // poojaService: \"/pooja-services\",\n  // poojaSearch: \"/pooja-services/search\",\n  // subscription: \"/subscription\",\n  // BookingSearch: \"/pooja-service-bookings/search\",\n  // transactionSearch: \"/transaction/search\",\n  // activitySearch: \"/activities/search\"\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,eAAe;AAId,MAAM,cAAc;IACzB,MAAM,WAAW;IACjB,OAAO,OAAO,aAAa,WAAW,WAAW;AACnD;AAEO,MAAM,YAAY;IACvB,MAAM,eAAe,mLAAU,CAAC,OAAO,CAAC,qLAAS,EAAE;IACnD,IAAI,cAAc;QAChB,OAAO,gBAAgB;IACzB;IACA,MAAM,YAAY,mLAAU,CAAC,OAAO,CAAC;IACrC,IAAI,WAAW;QACb,mLAAU,CAAC,OAAO,CAAC,qLAAS,EAAE,WAAW;QACzC,OAAO,aAAa;IACtB;IACA,OAAO;AACT;AAGA,CAAC;IACC,MAAM,aAAa,mLAAU,CAAC,OAAO,CAAC;IACtC,IAAI,YAAY;QACd,qMAAI,CAAC,YAAY,GAAG;IACtB,OAAO;QACL,qMAAI,CAAC,YAAY,GAAG;IACtB;AACF,CAAC;AAEc,MAAM;IACnB,aAAa,KACX,EAAU,EACV,MAAiD,EACjD;QACA,MAAM,UAAU;YACd,GAAG,QAAQ,OAAO,EAAE;YACpB,CAAC,eAAe,EAAE;YAClB,eAAe,mLAAU,CAAC,OAAO,CAAC,iLAAK,EAAE;QAC3C;QAEA,OAAO,MAAM,qMAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ;IAC/C;IAEA,OAAO,UAAU;QACf,OAAO;YACL,CAAC,eAAe,EAAE;YAClB,eAAe;YACf,6EAA6E;YAC7E,eAAe,mLAAU,CAAC,OAAO,CAAC,iLAAK;QACzC;IACF;IAEA,aAAa,IAAI,GAAW,EAAE,MAAiD,EAAE;QAC/E,MAAM,UAAU;YACd,GAAG,QAAQ,OAAO,EAAE;YACpB,CAAC,eAAe,EAAE;YAClB,eAAe,mLAAU,CAAC,OAAO,CAAC,iLAAK,EAAE;QAC3C;QAEA,OAAO,MAAM,qMAAI,CAAC,GAAG,CAAC,KAAK,QAAQ;IACrC;IAEA,aAAa,KAAK,GAAW,EAAE,MAAe,EAAE;QAC9C,MAAM,UAAU;YACd,GAAG,QAAQ,OAAO,EAAE;YACpB,CAAC,eAAe,EAAE;YAClB,eAAe,mLAAU,CAAC,OAAO,CAAC,iLAAK,EAAE;QAC3C;QAEA,OAAO,MAAM,qMAAI,CAAC,IAAI,CAAC,KAAK,QAAQ;IACtC;IAEA,aAAa,IAAI,GAAW,EAAE,EAAU,EAAE,MAAe,EAAE;QACzD,MAAM,UAAU;YAAE,GAAG,QAAQ,OAAO,EAAE;QAAC;QAEvC,OAAO,MAAM,qMAAI,CAAC,GAAG,CAAC,MAAM,MAAM,IAAI,QAAQ;IAChD;IAEA,aAAa,OAAO,GAAW,EAAE,MAAe,EAAE;QAChD,MAAM,UAAU;YACd,GAAG,QAAQ,OAAO,EAAE;YACpB,CAAC,eAAe,EAAE;YAClB,eAAe,mLAAU,CAAC,OAAO,CAAC,iLAAK,EAAE;QAC3C;QAEA,OAAO,MAAM,qMAAI,CAAC,MAAM,CAAC,KAAK,QAAQ;IACxC;AACF;AAGO,MAAM,QAAQ;IACnB,YAAY;IACZ,4BAA4B;IAC5B,MAAM;IACN,sCAAsC;IACtC,gCAAgC;IAChC,oCAAoC;IACpC,SAAS;IACT,MAAM;IACN,KAAK;IACL,QAAQ;AACV;AAEO,MAAM,SAAS;IACpB,YAAY;IACZ,kBAAkB;IAClB,kBAAkB;IAClB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,sBAAsB;AAaxB"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/modules/auth/common/services.ts"],"sourcesContent":["import { signal } from \"@preact/signals-react\";\nimport { ConstMessages } from \"dff-util\";\n\nimport { ForgotPasswordResponse, ForgotPasswordType, ResetPasswordResponse, SignUpType, VerifyOtpResponse } from \"./types\";\n\nimport { ShowToast } from \"@/utils/app.event\";\nimport AppHttp, { MsUrl } from \"@/utils/app.http\";\n\nexport const ForgotPasswordOtpType = signal<ForgotPasswordType>(\n  {} as ForgotPasswordType,\n);\n\nexport const EnabledButtons = signal<boolean>(false);\nexport const LoggedInUserId = signal<string | null>(null);\nexport const userIdSignal = signal<string>(\"\");\n\nexport const ForgotSerice = async () => {\n  // const res = await AppHttp.Post(\n  //   AppHttp.AUTH_MS_HOST + \"/auth/signUp\",\n  //   SignUpSignal.value\n  // );\n  // return res;\n};\n\nexport const SignUpSignal = signal<SignUpType>({} as SignUpType);\nexport const signUpSerice = async () => {\n  // const res = await AppHttp.Post(\n  //   AppHttp.AUTH_MS_HOST + \"/auth/signUp\",\n  //   SignUpSignal.value\n  // );\n  // return res;\n};\n\nexport const verifySignUp = async (otp: number, id: string) => {\n  try {\n    // Use the parameters in the API call\n    const response = await fetch(\"/api/verify-signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ otp, id }),\n    });\n\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const isSinginLoading = signal<boolean>(false);\nexport const onSingin = async (data: Record<string, unknown>) => {\n  try {\n    isSinginLoading.value = true;\n    const url = MsUrl.sor + \"/auth/signin\";\n    const params = { ...data };\n    const resp = await AppHttp.Post(url, params);\n\n    if (resp?.error || resp.data === null || resp.data.data === null) {\n      throw { error: { message: \"Invalid credentials\" } };\n    }\n\n    return resp.data;\n  } catch (error: unknown) {\n    const err = error as { message?: string; error?: { message?: string } };\n    const messsage = err?.message || err?.error?.message || ConstMessages.WENT_WRONG;\n    ShowToast(messsage, \"danger\");\n    throw error;\n  } finally {\n    isSinginLoading.value = false;\n  }\n};\n\nexport const forgotPasswordService = async (\n  userid: string\n): Promise<ForgotPasswordResponse> => {\n  const url = MsUrl.sor + \"/auth/forgot-password\";\n  const res = await AppHttp.Post(url, { userid });\n  return res.data;\n};\n\nexport const verifyOtpService = async (\n  otp: string,\n  otpId: string,\n  profileId: string\n): Promise<VerifyOtpResponse> => {\n  const url = MsUrl.sor + \"/auth/verify-otp\";\n  const res = await AppHttp.Post(url, {\n    otp,\n    oid: otpId,\n    uid: profileId,\n  });\n  return res.data;\n};\n\nexport const resetPasswordService = async (\n  payload: {\n    userid: string;\n    password: string;\n    otpId: string;\n  }\n): Promise<ResetPasswordResponse> => {\n  const url = MsUrl.sor + \"/auth/reset-password\";\n  const res = await AppHttp.Post(url, payload);\n  console.log(\"ResetPasswordResponse\", res)\n  return res.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AAIA;AACA;;;;;AAEO,MAAM,wBAAwB,IAAA,2OAAM,EACzC,CAAC;AAGI,MAAM,iBAAiB,IAAA,2OAAM,EAAU;AACvC,MAAM,iBAAiB,IAAA,2OAAM,EAAgB;AAC7C,MAAM,eAAe,IAAA,2OAAM,EAAS;AAEpC,MAAM,eAAe;AAC1B,kCAAkC;AAClC,2CAA2C;AAC3C,uBAAuB;AACvB,KAAK;AACL,cAAc;AAChB;KANa;AAQN,MAAM,eAAe,IAAA,2OAAM,EAAa,CAAC;AACzC,MAAM,eAAe;AAC1B,kCAAkC;AAClC,2CAA2C;AAC3C,uBAAuB;AACvB,KAAK;AACL,cAAc;AAChB;AAEO,MAAM,eAAe,OAAO,KAAa;IAC9C,IAAI;QACF,qCAAqC;QACrC,MAAM,WAAW,MAAM,MAAM,sBAAsB;YACjD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAK;YAAG;QACjC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,MAAM;IACR;AACF;AAEO,MAAM,kBAAkB,IAAA,2OAAM,EAAU;AACxC,MAAM,WAAW,OAAO;IAC7B,IAAI;QACF,gBAAgB,KAAK,GAAG;QACxB,MAAM,MAAM,8KAAK,CAAC,GAAG,GAAG;QACxB,MAAM,SAAS;YAAE,GAAG,IAAI;QAAC;QACzB,MAAM,OAAO,MAAM,gLAAO,CAAC,IAAI,CAAC,KAAK;QAErC,IAAI,MAAM,SAAS,KAAK,IAAI,KAAK,QAAQ,KAAK,IAAI,CAAC,IAAI,KAAK,MAAM;YAChE,MAAM;gBAAE,OAAO;oBAAE,SAAS;gBAAsB;YAAE;QACpD;QAEA,OAAO,KAAK,IAAI;IAClB,EAAE,OAAO,OAAgB;QACvB,MAAM,MAAM;QACZ,MAAM,WAAW,KAAK,WAAW,KAAK,OAAO,WAAW,8MAAa,CAAC,UAAU;QAChF,IAAA,mLAAS,EAAC,UAAU;QACpB,MAAM;IACR,SAAU;QACR,gBAAgB,KAAK,GAAG;IAC1B;AACF;AAEO,MAAM,wBAAwB,OACnC;IAEA,MAAM,MAAM,8KAAK,CAAC,GAAG,GAAG;IACxB,MAAM,MAAM,MAAM,gLAAO,CAAC,IAAI,CAAC,KAAK;QAAE;IAAO;IAC7C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,mBAAmB,OAC9B,KACA,OACA;IAEA,MAAM,MAAM,8KAAK,CAAC,GAAG,GAAG;IACxB,MAAM,MAAM,MAAM,gLAAO,CAAC,IAAI,CAAC,KAAK;QAClC;QACA,KAAK;QACL,KAAK;IACP;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,uBAAuB,OAClC;IAMA,MAAM,MAAM,8KAAK,CAAC,GAAG,GAAG;IACxB,MAAM,MAAM,MAAM,gLAAO,CAAC,IAAI,CAAC,KAAK;IACpC,QAAQ,GAAG,CAAC,yBAAyB;IACrC,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/components/otp-input.tsx"],"sourcesContent":["import React, { useRef } from 'react';\n\ninterface OtpInputProps {\n  length?: number;\n  value: string;\n  onValueChange: (value: string) => void;\n  description?: string;\n}\n\nconst OtpInput: React.FC<OtpInputProps> = ({ length = 6, value = \"\", onValueChange, description }) => {\n  const inputs = useRef<(HTMLInputElement | null)[]>([]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>, index: number) => {\n    const val = e.target.value;\n    if (!/^\\d*$/.test(val)) return; // Only allow numbers\n\n    const newOtp = (value || \"\").padEnd(length, \" \").split('');\n    newOtp[index] = val.substring(val.length - 1);\n    const combined = newOtp.join('').trim();\n    onValueChange(combined);\n\n    // Move to next input if value entered\n    if (val && index < length - 1) {\n      inputs.current[index + 1]?.focus();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, index: number) => {\n    if (e.key === 'Backspace' && !value[index] && index > 0) {\n      inputs.current[index - 1]?.focus();\n    }\n  };\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    const pastedData = e.clipboardData.getData('text').slice(0, length).replace(/\\D/g, '');\n    if (pastedData) {\n      onValueChange(pastedData);\n      inputs.current[Math.min(pastedData.length, length - 1)]?.focus();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-2\">\n      {description && <p className=\"text-sm text-gray-500 dark:text-gray-400\">{description}</p>}\n      <div className=\"flex gap-2\">\n        {Array.from({ length }).map((_, i) => (\n          <input\n            key={i}\n            ref={(el) => { inputs.current[i] = el; }}\n            type=\"text\"\n            inputMode=\"numeric\"\n            maxLength={1}\n            value={value[i] || ''}\n            onChange={(e) => handleChange(e, i)}\n            onKeyDown={(e) => handleKeyDown(e, i)}\n            onPaste={handlePaste}\n            className=\"input input-bordered w-12 h-12 text-center text-lg px-0 rounded-lg border-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-primary transition-all font-bold text-black dark:text-white\"\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default OtpInput;"],"names":[],"mappings":";;;;;AAAA;;;;AASA,MAAM,WAAoC,CAAC,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,EAAE,aAAa,EAAE,WAAW,EAAE;;IAC/F,MAAM,SAAS,IAAA,qNAAM,EAA8B,EAAE;IAErD,MAAM,eAAe,CAAC,GAAwC;QAC5D,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM,QAAQ,qBAAqB;QAErD,MAAM,SAAS,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,QAAQ,KAAK,KAAK,CAAC;QACvD,MAAM,CAAC,MAAM,GAAG,IAAI,SAAS,CAAC,IAAI,MAAM,GAAG;QAC3C,MAAM,WAAW,OAAO,IAAI,CAAC,IAAI,IAAI;QACrC,cAAc;QAEd,sCAAsC;QACtC,IAAI,OAAO,QAAQ,SAAS,GAAG;YAC7B,OAAO,OAAO,CAAC,QAAQ,EAAE,EAAE;QAC7B;IACF;IAEA,MAAM,gBAAgB,CAAC,GAA0C;QAC/D,IAAI,EAAE,GAAG,KAAK,eAAe,CAAC,KAAK,CAAC,MAAM,IAAI,QAAQ,GAAG;YACvD,OAAO,OAAO,CAAC,QAAQ,EAAE,EAAE;QAC7B;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,EAAE,cAAc;QAChB,MAAM,aAAa,EAAE,aAAa,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,GAAG,QAAQ,OAAO,CAAC,OAAO;QACnF,IAAI,YAAY;YACd,cAAc;YACd,OAAO,OAAO,CAAC,KAAK,GAAG,CAAC,WAAW,MAAM,EAAE,SAAS,GAAG,EAAE;QAC3D;IACF;IAEA,qBACE,2OAAC;QAAI,WAAU;;YACZ,6BAAe,2OAAC;gBAAE,WAAU;0BAA4C;;;;;;0BACzE,2OAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE;gBAAO,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC9B,2OAAC;wBAEC,KAAK,CAAC;4BAAS,OAAO,OAAO,CAAC,EAAE,GAAG;wBAAI;wBACvC,MAAK;wBACL,WAAU;wBACV,WAAW;wBACX,OAAO,KAAK,CAAC,EAAE,IAAI;wBACnB,UAAU,CAAC,IAAM,aAAa,GAAG;wBACjC,WAAW,CAAC,IAAM,cAAc,GAAG;wBACnC,SAAS;wBACT,WAAU;uBATL;;;;;;;;;;;;;;;;AAejB;GAtDM;KAAA;uCAwDS"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/utils/app.otp.tsx"],"sourcesContent":["import { signal } from '@preact/signals-react';\nimport { useSignals } from '@preact/signals-react/runtime';\nimport React, { useEffect, useCallback } from 'react';\nimport { useForm, useWatch } from 'react-hook-form';\n\nimport TypeButton from '@/types/type.button';\n// import TypeIcon from '@/types/type.icon';\nimport { ShowToast } from '@/utils/app.event';\nimport AppHttp, { MsUrl } from '@/utils/app.http';\nimport OtpInput from '../components/otp-input';\n\n/* ------------------------------------------------------------------ */\n/* TYPES */\n/* ------------------------------------------------------------------ */\n\nexport type OtpModalState = {\n  showModal: boolean;\n  title: string;\n  userid: string;\n};\n\nexport type OtpFormData = {\n  otp: string;\n};\n\nexport type SendOtpResponse = {\n  data: {\n    message: string;\n    oid: string;\n    uid: string;\n  };\n};\n\nexport type VerifyOtpResponse = {\n  data: {\n    message: string;\n    oid: string;\n    uid: string;\n  };\n};\n\nexport type OtpCallbackProps = {\n  oid: string;\n  uid: string;\n  otp: string;\n};\n\nexport type AppOtpProps = {\n  onOtpCallback?: (data: OtpCallbackProps) => void;\n  onCancel?: () => void;\n};\n\n/* ------------------------------------------------------------------ */\n/* SIGNALS */\n/* ------------------------------------------------------------------ */\n\nexport const OtpModalSignal = signal<OtpModalState>({\n  showModal: false,\n  title: '',\n  userid: '',\n});\n\nexport const OtpLoadingSignal = signal<boolean>(false);\nexport const ResendLoadingSignal = signal<boolean>(false);\nexport const ResendCountdownSignal = signal<number>(0);\n\n/** ✅ THIS STORES oid + uid */\nexport const OtpSessionSignal = signal<{\n  oid: string;\n  uid: string;\n} | null>(null);\n\n/* ------------------------------------------------------------------ */\n/* API FUNCTIONS */\n/* ------------------------------------------------------------------ */\n\nconst sendOtpApi = async (userid: string): Promise<SendOtpResponse | null> => {\n  try {\n    OtpLoadingSignal.value = true;\n    const response = await AppHttp.Post(MsUrl.sor + '/auth/send-otp', { userid });\n    return response as SendOtpResponse;\n  } catch (error: unknown) {\n    const err = error as { error?: { message?: string } };\n    const message = err?.error?.message || 'Failed to send OTP';\n    ShowToast(message, 'danger');\n    return null;\n  } finally {\n    OtpLoadingSignal.value = false;\n  }\n};\n\nconst verifyOtpApi = async (\n  otp: string,\n  oid: string,\n  uid: string,\n): Promise<VerifyOtpResponse | null> => {\n  try {\n    OtpLoadingSignal.value = true;\n    const response = await AppHttp.Post('/auth/verify-otp', { otp, oid, uid });\n    return response as VerifyOtpResponse;\n  } catch (error: unknown) {\n    console.log(error);\n    return null;\n  } finally {\n    OtpLoadingSignal.value = false;\n  }\n};\n\n/* ------------------------------------------------------------------ */\n/* HELPERS */\n/* ------------------------------------------------------------------ */\n\nexport const showOtpModal = (title: string, userid: string) => {\n  OtpModalSignal.value = {\n    showModal: true,\n    title,\n    userid,\n  };\n};\n\nexport const hideOtpModal = () => {\n  OtpModalSignal.value = {\n    showModal: false,\n    title: '',\n    userid: '',\n  };\n  ResendCountdownSignal.value = 0;\n  OtpSessionSignal.value = null;\n};\n\n/* ------------------------------------------------------------------ */\n/* COMPONENT */\n/* ------------------------------------------------------------------ */\n\nexport const AppOtp: React.FC<AppOtpProps> = ({ onOtpCallback, onCancel }) => {\n  useSignals();\n\n  const {\n    handleSubmit,\n    control,\n    reset,\n    setValue,\n    formState: { errors },\n  } = useForm<OtpFormData>({\n    defaultValues: {\n      otp: '',\n    },\n  });\n\n  const handleSendOtp = useCallback(async () => {\n    if (OtpLoadingSignal.value) return;\n    const response = await sendOtpApi(OtpModalSignal.value.userid);\n    if (response?.data) {\n      OtpSessionSignal.value = {\n        oid: response.data.oid,\n        uid: response.data.uid,\n      };\n      ShowToast(response.data.message, 'success');\n      ResendCountdownSignal.value = 180; // 3 minutes countdown\n    } else {\n      ShowToast(\"Failed to send OTP. Please try again.\", 'danger');\n    }\n  }, []);\n\n  const otpValue = useWatch({\n    control,\n    name: 'otp',\n  });\n  const isSubmitDisabled = !otpValue || otpValue.length < 6 || OtpLoadingSignal.value;\n\n  const showOtpModalValue = OtpModalSignal.value.showModal;\n  const otpUserid = OtpModalSignal.value.userid;\n\n  // Send OTP when modal opens\n  useEffect(() => {\n    if (showOtpModalValue && otpUserid) {\n      handleSendOtp();\n    }\n  }, [showOtpModalValue, otpUserid, handleSendOtp]);\n\n  const resendCountdown = ResendCountdownSignal.value;\n\n  // Countdown timer for resend\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n    if (resendCountdown > 0) {\n      interval = setInterval(() => {\n        ResendCountdownSignal.value = ResendCountdownSignal.value - 1;\n      }, 1000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [resendCountdown]);\n\n  const handleResendOtp = async () => {\n    if (ResendCountdownSignal.value > 0) return;\n    ResendLoadingSignal.value = true;\n    await handleSendOtp();\n    ResendLoadingSignal.value = false;\n  };\n\n  const onSubmit = async (data: OtpFormData) => {\n    if (!OtpSessionSignal.value) {\n      ShowToast(\"Session expired\", 'danger');\n      return;\n    }\n\n    const response = await verifyOtpApi(\n      data.otp,\n      OtpSessionSignal.value.oid,\n      OtpSessionSignal.value.uid,\n    );\n\n    if (response?.data) {\n      ShowToast(response.data.message, 'success');\n      onOtpCallback?.({\n        oid: response.data.oid,\n        uid: response.data.uid,\n        otp: data.otp,\n      });\n      handleCloseModal();\n    } else {\n      ShowToast(\"Failed to send OTP. Please try again.\", 'danger');\n    }\n  };\n\n  const handleCancelAction = () => {\n    onCancel?.();\n    handleCloseModal();\n  };\n\n  const handleCloseModal = () => {\n    hideOtpModal();\n    reset();\n  };\n\n  const formatTime = (seconds: number): string => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  if (!OtpModalSignal.value.showModal) {\n    return null;\n  }\n\n  return (\n    <div className='modal modal-open'>\n      <div className='modal-box relative bg-white dark:bg-black shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] border-none max-w-md p-8 rounded-3xl'>\n        {/* Header */}\n        <div className='flex justify-between items-center mb-4'>\n          <h2 className='text-xl font-bold text-gray-900 dark:text-white tracking-tight'>\n            {OtpModalSignal.value.title || 'OTP Verification'}\n          </h2>\n          <TypeButton\n            variant='ghost'\n            className='btn-xs btn-circle text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors'\n            onPress={handleCancelAction}\n            name='X'\n            label=''\n          />\n        </div>\n\n        {/* Body */}\n        <div className='flex flex-col space-y-4 text-black dark:text-white'>\n          <div className='text-center space-y-1'>\n            <p className='text-lg font-bold text-gray-900 dark:text-white'>{OtpModalSignal.value.userid}</p>\n            <p className='text-sm text-gray-500 dark:text-gray-400 max-w-xs mx-auto leading-relaxed'>\n              Please enter the OTP sent to your registered mobile number to verify your identity.\n            </p>\n          </div>\n\n          <div className='flex justify-center'>\n            <OtpInput\n              length={6}\n              value={otpValue}\n              onValueChange={(value: string) => {\n                setValue('otp', value);\n                if (value.length === 6) {\n                  handleSubmit(onSubmit)();\n                }\n              }}\n            />\n          </div>\n\n          {errors.otp && (\n            <p className='text-error text-sm text-center font-medium'>{errors.otp.message}</p>\n          )}\n\n          <div className='flex justify-center items-center space-x-2 text-sm'>\n            <span className='text-gray-900 dark:text-white'>Didn&apos;t receive the code?</span>\n            <TypeButton\n              variant='ghost'\n              onPress={handleResendOtp}\n              disabled={ResendCountdownSignal.value > 0 || ResendLoadingSignal.value}\n              className='text-blue-600 font-semibold hover:underline disabled:text-blue-500 disabled:no-underline px-0 min-h-0 h-auto'\n              label={ResendCountdownSignal.value > 0\n                ? `Resend in ${formatTime(ResendCountdownSignal.value)}`\n                : ResendLoadingSignal.value\n                  ? 'Sending...'\n                  : 'Resend OTP'}\n            />\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className='modal-action flex justify-center gap-4 mt-6 p-0'>\n          <TypeButton\n            action='default'\n            variant='outline'\n            className='border-2 hover:text-white rounded-xl flex-1 normal-case text-base font-semibold h-12 transition-all duration-200'\n            onPress={handleCancelAction}\n            disabled={OtpLoadingSignal.value}\n            label='Cancel'\n          />\n          <TypeButton\n            action='primary'\n            className='text-white border-none rounded-xl flex-1 normal-case text-base font-semibold h-12 transition-all duration-200'\n            onPress={handleSubmit(onSubmit)}\n            disabled={isSubmitDisabled}\n            label={OtpLoadingSignal.value ? 'Verifying...' : 'Verify'}\n          />\n        </div>\n      </div>\n\n      {/* Backdrop */}\n      <div className='modal-backdrop bg-black/20 backdrop-blur-[2px]' onClick={handleCancelAction}>\n        <button className='cursor-default'>close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default AppOtp;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/utils/app.props.ts"],"sourcesContent":["export const AppProps = {\n  MESSAGE_REQUIRED: \"Required\",\n  MESSAGE_MIN_LENGTH: \"Min length required\",\n  MESSAGE_MAX_LENGTH: \"Exceed max length\",\n  MESSAGE_INVALID_DATA: \"Invalid data\",\n};\n\nexport enum PlatformType {\n  IOS = \"ios\",\n  ANDROID = \"android\",\n  MACOS = \"macos\",\n  WINDOWS = \"windows\",\n  WEB = \"web\",\n}\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,WAAW;IACtB,kBAAkB;IAClB,oBAAoB;IACpB,oBAAoB;IACpB,sBAAsB;AACxB;AAEO,IAAA,AAAK,sCAAA;;;;;;WAAA"}},
    {"offset": {"line": 929, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/modules/auth/common/validate.ts"],"sourcesContent":["import { RegExp } from \"dff-util\";\n\nimport { AppProps } from \"@/utils/app.props\";\n\nexport const ForgotPasswordValidate = {\n  email: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n    pattern: {\n      value: RegExp.EMAIL,\n      message: AppProps.MESSAGE_INVALID_DATA,\n    },\n  },\n  userid: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n    pattern: {\n      value: RegExp.EMAIL,\n      message: AppProps.MESSAGE_INVALID_DATA,\n    },\n  },\n  password: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 6, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 50, message: AppProps.MESSAGE_MAX_LENGTH },\n  },\n};\n\nexport const LoginValidate = {\n  email: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n    pattern: {\n      value: RegExp.EMAIL,\n      message: AppProps.MESSAGE_INVALID_DATA,\n    },\n  },\n  password: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n  },\n};\n\nexport const SignUpValidate = {\n  email: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n    pattern: {\n      value: RegExp.EMAIL,\n      message: AppProps.MESSAGE_INVALID_DATA,\n    },\n  },\n  password: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n  },\n  name: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n  },\n  phone: {\n    required: AppProps.MESSAGE_REQUIRED,\n    minLength: { value: 2, message: AppProps.MESSAGE_MIN_LENGTH },\n    maxLength: { value: 99, message: AppProps.MESSAGE_MAX_LENGTH },\n  },\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;AAEO,MAAM,yBAAyB;IACpC,OAAO;QACL,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC7D,SAAS;YACP,OAAO,uMAAM,CAAC,KAAK;YACnB,SAAS,kLAAQ,CAAC,oBAAoB;QACxC;IACF;IACA,QAAQ;QACN,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC7D,SAAS;YACP,OAAO,uMAAM,CAAC,KAAK;YACnB,SAAS,kLAAQ,CAAC,oBAAoB;QACxC;IACF;IACA,UAAU;QACR,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;IAC/D;AACF;AAEO,MAAM,gBAAgB;IAC3B,OAAO;QACL,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC7D,SAAS;YACP,OAAO,uMAAM,CAAC,KAAK;YACnB,SAAS,kLAAQ,CAAC,oBAAoB;QACxC;IACF;IACA,UAAU;QACR,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;IAC/D;AACF;AAEO,MAAM,iBAAiB;IAC5B,OAAO;QACL,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC7D,SAAS;YACP,OAAO,uMAAM,CAAC,KAAK;YACnB,SAAS,kLAAQ,CAAC,oBAAoB;QACxC;IACF;IACA,UAAU;QACR,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;IAC/D;IACA,MAAM;QACJ,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;IAC/D;IACA,OAAO;QACL,UAAU,kLAAQ,CAAC,gBAAgB;QACnC,WAAW;YAAE,OAAO;YAAG,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;QAC5D,WAAW;YAAE,OAAO;YAAI,SAAS,kLAAQ,CAAC,kBAAkB;QAAC;IAC/D;AACF"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/layouts/auth-layout.tsx"],"sourcesContent":["import React from 'react';\n\nexport const AuthLayout = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <main className='w-full p-1 overflow-y-auto h-[calc(100vh-88px)] flex items-center justify-end m-auto right bg-white dark:bg-black bg-auth-light dark:bg-auth-dark'>\n      <div className='w-[400px] mx-12'>{children}</div>\n    </main>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAiC;IACpE,qBACE,2OAAC;QAAK,WAAU;kBACd,cAAA,2OAAC;YAAI,WAAU;sBAAmB;;;;;;;;;;;AAGxC;KANa"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":["file:///Users/saireddy/Documents/react-project/timesheet/modules/auth/forgot-password-page.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useSignal } from '@preact/signals-react';\n\nimport TypeButton from '@/types/type.button';\nimport { TypeInput } from '@/types/type.input';\n\nimport { RouterChange, ShowToast } from '@/utils/app.event';\nimport { AppRouter } from '@/utils/app.router';\nimport { ForgotPasswordStep, ForgotPasswordType } from './common/types';\nimport { resetPasswordService, userIdSignal } from './common/services';\n\nimport AppOtp, { showOtpModal, OtpCallbackProps } from '@/utils/app.otp';\nimport { ForgotPasswordValidate } from './common/validate';\nimport { AuthLayout } from '@/layouts/auth-layout';\n\nexport default function ForgotPassword() {\n  const [step, setStep] = React.useState<ForgotPasswordStep>(1);\n  const isLoading = useSignal(false);\n\n  /** OTP id from AppOtp */\n  const otpIdSignal = useSignal('');\n\n  /** React Hook Form */\n  const {\n    handleSubmit,\n    control,\n    formState: { errors },\n  } = useForm<ForgotPasswordType>({\n    defaultValues: {\n      userid: '',\n      password: '',\n    },\n  });\n\n  /* ---------------------------------- */\n  /* COMMON */\n  /* ---------------------------------- */\n\n  const onCancel = () => {\n    RouterChange(AppRouter.SIGN_IN);\n  };\n\n  /* ---------------------------------- */\n  /* STEP 1 – SEND OTP */\n  /* ---------------------------------- */\n\n  const onSubmitEmail = async (data: ForgotPasswordType) => {\n    try {\n      userIdSignal.value = data.userid;\n      ShowToast('OTP sent to your email', 'success');\n      setStep(2);\n      showOtpModal('Verify OTP', data.userid);\n    } catch {\n      ShowToast('Error sending OTP', 'danger');\n    }\n  };\n\n  /* ---------------------------------- */\n  /* OTP CALLBACK */\n  /* ---------------------------------- */\n\n  const onOtpCallback = (data: OtpCallbackProps) => {\n    console.log('OTP verified:', data);\n    otpIdSignal.value = data.oid ?? '';\n    setStep(3);\n  };\n\n  /* ---------------------------------- */\n  /* STEP 3 – RESET PASSWORD */\n  /* ---------------------------------- */\n\n  const onSubmitPassword = async (data: ForgotPasswordType) => {\n    console.log('ResetPassword data:', data);\n\n    isLoading.value = true;\n    try {\n      const payload = {\n        userid: userIdSignal.value,\n        password: btoa(data.password),\n        otpId: otpIdSignal.value,\n      };\n\n      console.log('ResetPassword payload:', payload);\n\n      const resp = await resetPasswordService(payload) as { message?: string };\n\n      if (resp?.message === 'Password reset successful.') {\n        ShowToast('Password reset successful', 'success');\n        setStep(4);\n      } else {\n        ShowToast('Password reset failed', 'danger');\n      }\n    } catch {\n      ShowToast('Error resetting password', 'danger');\n    } finally {\n      isLoading.value = false;\n    }\n  };\n\n  /* ---------------------------------- */\n  /* UI */\n  /* ---------------------------------- */\n\n  return (\n    <AuthLayout>\n      {step === 2 ? (\n        <AppOtp\n          onOtpCallback={onOtpCallback}\n          onCancel={() => setStep(1)}\n        />\n      ) : (\n        <div className='card bg-base-100 shadow-xl w-full'>\n          <div className='card-body p-8'>\n            <h2 className='card-title justify-center text-3xl font-bold mb-8 text-primary-custom text-center w-full'>\n              {step === 1 && 'Forgot Password'}\n              {step === 3 && 'Reset Password'}\n              {step === 4 && 'Success'}\n            </h2>\n\n            {/* STEP 1 */}\n            {step === 1 && (\n              <form className='flex flex-col gap-4'>\n                <TypeInput\n                  type='text'\n                  label='Email'\n                  control={control}\n                  name='userid'\n                  rules={ForgotPasswordValidate.userid}\n                  error={errors.userid}\n                />\n\n                <div className='flex justify-between mt-6'>\n                  <TypeButton label='Back to Login' className='text-primary-custom hover:shadow-none hover:outline-none px-0' action='default'\n                    variant='ghost' onPress={onCancel} />\n                  <TypeButton\n                    label='Send OTP'\n                    action='secondary'\n                    className='px-10 btn-pink rounded-lg'\n                    onPress={handleSubmit(onSubmitEmail)}\n                  />\n                </div>\n              </form>\n            )}\n\n            {/* STEP 3 */}\n            {step === 3 && (\n              <form onSubmit={handleSubmit(onSubmitPassword)} className='flex flex-col gap-4'>\n                <TypeInput\n                  type='password'\n                  label='Password'\n                  control={control}\n                  name='password'\n                  rules={ForgotPasswordValidate.password}\n                  error={errors.password}\n                />\n\n                <div className='flex justify-between mt-6'>\n                  <TypeButton label='Cancel' action='danger' className='px-6 rounded-lg' onPress={onCancel} />\n                  <TypeButton\n                    label='Reset Password'\n                    action='secondary'\n                    className='px-10 btn-pink rounded-lg'\n                    htmlType='submit' // ✅ THIS MAKES IT WORK\n                    disabled={isLoading.value}\n                  />\n                </div>\n              </form>\n            )}\n\n            {/* STEP 4 */}\n            {step === 4 && (\n              <div className='text-center'>\n                <p className='text-green-600 font-semibold'>Password reset successful</p>\n                <TypeButton label='Go to Sign In' action='secondary' onPress={onCancel} />\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </AuthLayout>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}